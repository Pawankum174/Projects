CREATE EXTENSION IF NOT EXISTS "uuid-ossp"; 
CREATE TABLE users ( id UUID PRIMARY KEY DEFAULT uuid_generate_v4(), username VARCHAR(64) UNIQUE NOT NULL, email VARCHAR(255), password_hash VARCHAR(255) NOT NULL, role VARCHAR(16) NOT NULL DEFAULT 'USER', created_at TIMESTAMPTZ NOT NULL DEFAULT NOW() );
 CREATE TABLE accounts ( id UUID PRIMARY KEY DEFAULT uuid_generate_v4(), user_id UUID NOT NULL REFERENCES users(id), currency CHAR(3) NOT NULL, status VARCHAR(16) NOT NULL DEFAULT 'ACTIVE', created_at TIMESTAMPTZ NOT NULL DEFAULT NOW() );